<!-- 고급 모니터링 페이지 - 시스템 성능 지표와 상세한 모니터링 차트를 제공하는 페이지 -->
{% extends "base.html" %}
{% block title %}모니터링 - 컨테이너 모니터링{% endblock %}
{% block breadcrumb %}모니터링{% endblock %}
{% block content %}

<!-- 실시간 성능 메트릭 헤더 -->
<div class="row mb-4">
    <div class="col-12">
        <div class="dashboard-card">
            <div class="dashboard-card-header">
                <div class="dashboard-card-title">
                    <i class="fas fa-tachometer-alt"></i>
                    실시간 성능 메트릭
                </div>
                <div class="dashboard-card-subtitle">클러스터 전체 성능 지표</div>
            </div>
        </div>
    </div>
</div>

<!-- 네트워크 및 스토리지 차트 섹션 -->
<div class="resource-grid">
    <div class="dashboard-card">
        <div class="dashboard-card-header">
            <div class="dashboard-card-title">
                <i class="fas fa-network-wired"></i>
                네트워크 트래픽
            </div>
            <div class="dashboard-card-subtitle">실시간 네트워크 I/O</div>
        </div>
        <div class="dashboard-card-body">
            <div class="chart-container">
                <canvas id="networkTrafficChart"></canvas>
            </div>
        </div>
    </div>
    <div class="dashboard-card">
        <div class="dashboard-card-header">
            <div class="dashboard-card-title">
                <i class="fas fa-hdd"></i>
                디스크 I/O
            </div>
            <div class="dashboard-card-subtitle">읽기/쓰기 처리량</div>
        </div>
        <div class="dashboard-card-body">
            <div class="chart-container">
                <canvas id="diskIoChart"></canvas>
            </div>
        </div>
    </div>
</div>

<!-- 애플리케이션 성능 섹션 -->
<div class="row">
    <div class="col-lg-8">
        <div class="dashboard-card h-100">
            <div class="dashboard-card-header">
                <div class="dashboard-card-title">
                    <i class="fas fa-stopwatch"></i>
                    응답 시간 분석
                </div>
                <div class="dashboard-card-subtitle">서비스별 평균 응답시간 (ms)</div>
            </div>
            <div class="dashboard-card-body">
                <div class="chart-container">
                    <canvas id="responseTimeChart"></canvas>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-4">
        <div class="dashboard-card h-100">
            <div class="dashboard-card-header">
                <div class="dashboard-card-title">
                    <i class="fas fa-chart-pie"></i>
                    요청 상태 분포
                </div>
                <div class="dashboard-card-subtitle">HTTP 상태 코드별</div>
            </div>
            <div class="dashboard-card-body d-flex align-items-center">
                <div class="chart-container w-100">
                    <canvas id="requestStatusChart"></canvas>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 리소스 사용률 히트맵 섹션 -->
<div class="row mt-4">
    <div class="col-12">
        <div class="dashboard-card">
            <div class="dashboard-card-header">
                <div class="dashboard-card-title">
                    <i class="fas fa-fire"></i>
                    리소스 사용률 히트맵
                </div>
                <div class="dashboard-card-subtitle">노드별 실시간 리소스 사용 현황</div>
            </div>
            <div class="dashboard-card-body">
                <div class="row">
                    <div class="col-md-3 mb-3">
                        <div class="metric-card">
                            <div style="padding: 1rem;">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h6 class="mb-0">k8s-master-01</h6>
                                    <span class="status-badge running">
                                        <span class="status-indicator"></span>
                                        Normal
                                    </span>
                                </div>
                                <div class="mb-2">
                                    <div class="d-flex justify-content-between">
                                        <small>CPU</small>
                                        <small>23%</small>
                                    </div>
                                    <div class="progress-modern">
                                        <div class="progress-bar-modern" style="width: 23%; background: var(--success-color);"></div>
                                    </div>
                                </div>
                                <div class="mb-2">
                                    <div class="d-flex justify-content-between">
                                        <small>Memory</small>
                                        <small>45%</small>
                                    </div>
                                    <div class="progress-modern">
                                        <div class="progress-bar-modern" style="width: 45%; background: var(--warning-color);"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="d-flex justify-content-between">
                                        <small>Disk</small>
                                        <small>67%</small>
                                    </div>
                                    <div class="progress-modern">
                                        <div class="progress-bar-modern" style="width: 67%; background: var(--info-color);"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 mb-3">
                        <div class="metric-card">
                            <div style="padding: 1rem;">
                                <div class="d-flex justify-content-between align-items-start mb-2">
                                    <h6 class="mb-0">k8s-worker-01</h6>
                                    <span class="status-badge warning">
                                        <span class="status-indicator"></span>
                                        High&nbsp;Load
                                    </span>
                                </div>
                                <div class="mb-2">
                                    <div class="d-flex justify-content-between">
                                        <small>CPU</small>
                                        <small>67%</small>
                                    </div>
                                    <div class="progress-modern">
                                        <div class="progress-bar-modern" style="width: 67%; background: var(--warning-color);"></div>
                                    </div>
                                </div>
                                <div class="mb-2">
                                    <div class="d-flex justify-content-between">
                                        <small>Memory</small>
                                        <small>78%</small>
                                    </div>
                                    <div class="progress-modern">
                                        <div class="progress-bar-modern" style="width: 78%; background: var(--danger-color);"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="d-flex justify-content-between">
                                        <small>Disk</small>
                                        <small>45%</small>
                                    </div>
                                    <div class="progress-modern">
                                        <div class="progress-bar-modern" style="width: 45%; background: var(--success-color);"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 mb-3">
                        <div class="metric-card">
                            <div style="padding: 1rem;">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h6 class="mb-0">k8s-worker-02</h6>
                                    <span class="status-badge stopped">
                                        <span class="status-indicator"></span>
                                        Critical
                                    </span>
                                </div>
                                <div class="mb-2">
                                    <div class="d-flex justify-content-between">
                                        <small>CPU</small>
                                        <small>89%</small>
                                    </div>
                                    <div class="progress-modern">
                                        <div class="progress-bar-modern" style="width: 89%; background: var(--danger-color);"></div>
                                    </div>
                                </div>
                                <div class="mb-2">
                                    <div class="d-flex justify-content-between">
                                        <small>Memory</small>
                                        <small>91%</small>
                                    </div>
                                    <div class="progress-modern">
                                        <div class="progress-bar-modern" style="width: 91%; background: var(--danger-color);"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="d-flex justify-content-between">
                                        <small>Disk</small>
                                        <small>23%</small>
                                    </div>
                                    <div class="progress-modern">
                                        <div class="progress-bar-modern" style="width: 23%; background: var(--success-color);"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3 mb-3">
                        <div class="metric-card">
                            <div style="padding: 1rem;">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h6 class="mb-0">docker-host-01</h6>
                                    <span class="status-badge running">
                                        <span class="status-indicator"></span>
                                        Normal
                                    </span>
                                </div>
                                <div class="mb-2">
                                    <div class="d-flex justify-content-between">
                                        <small>CPU</small>
                                        <small>34%</small>
                                    </div>
                                    <div class="progress-modern">
                                        <div class="progress-bar-modern" style="width: 34%; background: var(--success-color);"></div>
                                    </div>
                                </div>
                                <div class="mb-2">
                                    <div class="d-flex justify-content-between">
                                        <small>Memory</small>
                                        <small>56%</small>
                                    </div>
                                    <div class="progress-modern">
                                        <div class="progress-bar-modern" style="width: 56%; background: var(--warning-color);"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="d-flex justify-content-between">
                                        <small>Disk</small>
                                        <small>78%</small>
                                    </div>
                                    <div class="progress-modern">
                                        <div class="progress-bar-modern" style="width: 78%; background: var(--info-color);"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Top 리소스 사용 컨테이너 섹션 -->
<div class="row mt-4">
    <div class="col-12">
        <div class="dashboard-card">
            <div class="dashboard-card-header">
                <div class="dashboard-card-title">
                    <i class="fas fa-list-ol"></i>
                    Top 리소스 사용 컨테이너
                </div>
                <div class="dashboard-card-subtitle">CPU 및 메모리 사용량 상위 컨테이너</div>
            </div>
            <div class="dashboard-card-body">
                <div class="table-container">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>순위</th>
                                <th>컨테이너</th>
                                <th>노드</th>
                                <th>CPU 사용률</th>
                                <th>메모리 사용률</th>
                                <th>네트워크 I/O</th>
                                <th>디스크 I/O</th>
                                <th>상태</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="badge bg-danger">1</span></td>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <i class="fas fa-cube me-2 text-primary"></i>
                                        <strong>elasticsearch-master</strong>
                                    </div>
                                </td>
                                <td>k8s-worker-02</td>
                                <td>
                                    <div class="progress-modern mb-1">
                                        <div class="progress-bar-modern" style="width: 89%; background: var(--danger-color);"></div>
                                    </div>
                                    <small>89.2%</small>
                                </td>
                                <td>
                                    <div class="progress-modern mb-1">
                                        <div class="progress-bar-modern" style="width: 76%; background: var(--danger-color);"></div>
                                    </div>
                                    <small>2.4 GB</small>
                                </td>
                                <td><small>1.2 MB/s</small></td>
                                <td><small>450 KB/s</small></td>
                                <td><span class="status-badge running"><span class="status-indicator"></span>Running</span></td>
                            </tr>
                            <tr>
                                <td><span class="badge bg-warning">2</span></td>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <i class="fab fa-docker me-2 text-info"></i>
                                        <strong>postgres-primary</strong>
                                    </div>
                                </td>
                                <td>docker-host-01</td>
                                <td>
                                    <div class="progress-modern mb-1">
                                        <div class="progress-bar-modern" style="width: 67%; background: var(--warning-color);"></div>
                                    </div>
                                    <small>67.4%</small>
                                </td>
                                <td>
                                    <div class="progress-modern mb-1">
                                        <div class="progress-bar-modern" style="width: 54%; background: var(--warning-color);"></div>
                                    </div>
                                    <small>1.7 GB</small>
                                </td>
                                <td><small>890 KB/s</small></td>
                                <td><small>2.1 MB/s</small></td>
                                <td><span class="status-badge running"><span class="status-indicator"></span>Running</span></td>
                            </tr>
                            <tr>
                                <td><span class="badge bg-info">3</span></td>
                                <td>
                                    <div class="d-flex align-items-center">
                                        <i class="fas fa-cube me-2 text-success"></i>
                                        <strong>api-gateway</strong>
                                    </div>
                                </td>
                                <td>k8s-worker-01</td>
                                <td>
                                    <div class="progress-modern mb-1">
                                        <div class="progress-bar-modern" style="width: 45%; background: var(--warning-color);"></div>
                                    </div>
                                    <small>45.1%</small>
                                </td>
                                <td>
                                    <div class="progress-modern mb-1">
                                        <div class="progress-bar-modern" style="width: 32%; background: var(--success-color);"></div>
                                    </div>
                                    <small>512 MB</small>
                                </td>
                                <td><small>2.4 MB/s</small></td>
                                <td><small>120 KB/s</small></td>
                                <td><span class="status-badge running"><span class="status-indicator"></span>Running</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}